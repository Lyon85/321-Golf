:root {
    --pixel-grit: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");

    --skin: #ffdbac;
    --vest: #2980b9;
    --pants: #ecf0f1;
    --shoes: #222;
}

/* Global 3D Setup */
.minecraft {
    transform-style: preserve-3d;
    display: flex;
    align-items: center;
    justify-content: center;
}

#golfer {
    transform-style: preserve-3d;
    transform: rotateX(-20deg) rotateY(calc(45deg + var(--dir-rotate, 0deg)));
    position: relative;
    scale: 0.25;
    transition: transform 0.15s ease-out;
}



.player-shadow {
    transform: rotateY(90deg) rotateX(90deg);
    position: absolute;
    z-index: -1;
    width: 160px;
    height: 160px;
    top: 100px;
    left: -90px;
    filter: blur(15px);
    background: #222;
    opacity: .5;
}

/* The Cube Logic */
.cube {
    position: absolute;
    transform-style: preserve-3d;
}

.face {
    position: absolute;
    background-size: 100% 100%;
    image-rendering: pixelated;
    box-sizing: border-box;
    border: 1px solid rgba(0, 0, 0, 0.05);
    /* Subtle pixel border */
}

/* Jim Savage Noise Overlay on every face */
.face::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--pixel-grit);
    mix-blend-mode: overlay;
    opacity: 0.3;
}

/* HEAD - 80x80x80 */
.head {
    width: 80px;
    height: 80px;
    top: -140px;
    left: -40px;
}

.head .face {
    width: 80px !important;
    height: 80px !important;
    background: var(--skin);
}

.head .front {
    transform: rotateY(0deg) translateZ(40px) !important;
}

.head .back {
    transform: rotateY(180deg) translateZ(40px) !important;
    filter: brightness(0.7);
}

.head .left {
    transform: rotateY(-90deg) translateZ(40px) !important;
    filter: brightness(0.85);
}

.head .right {
    transform: rotateY(90deg) translateZ(40px) !important;
    filter: brightness(0.85);
}

.head .top {
    transform: rotateX(90deg) translateZ(40px) !important;
    filter: brightness(1.1);
}

.head .bottom {
    transform: rotateX(-90deg) translateZ(40px) !important;
    filter: brightness(0.5);
}

/* TORSO - 80x120x40 */
.torso {
    width: 80px;
    height: 120px;
    top: -60px;
    left: -40px;
}

.torso .face {
    background: var(--vest);
}

.torso .front,
.torso .back {
    width: 80px;
    height: 120px;
    transform: translateZ(20px);
}

.torso .back {
    transform: rotateY(180deg) translateZ(20px);
    filter: brightness(0.7);
}

.torso .left,
.torso .right {
    width: 40px;
    height: 120px;
    transform: rotateY(90deg) translateZ(60px);
    filter: brightness(0.85);
}

.torso .left {
    transform: rotateY(-90deg) translateZ(20px);
}

.torso .top,
.torso .bottom {
    width: 80px;
    height: 40px;
    transform: rotateX(90deg) translateZ(20px);
    filter: brightness(1.1);
}

.torso .bottom {
    transform: rotateX(-90deg) translateZ(100px);
    filter: brightness(0.5);
}

/* ARMS & LEGS - 40x120x40 */
.arm,
.leg {
    width: 40px;
    height: 120px;
    transform-origin: top center;
}

.arm .face,
.leg .face {
    width: 40px;
    height: 120px;
    background: var(--skin);
}

/* Leg Specifics */
.leg .face {
    background: var(--pants);
}

.leg.left {
    left: -40px;
    top: 60px;
}

.leg.right {
    left: 0px;
    top: 60px;
}

/* Face transforms for 40x120x40 boxes */
.cube .front {
    transform: rotateY(0deg) translateZ(20px);
}

.cube .back {
    transform: rotateY(180deg) translateZ(20px);
    filter: brightness(0.7);
}

.cube .left {
    transform: rotateY(-90deg) translateZ(20px);
    filter: brightness(0.85);
}

.cube .right {
    transform: rotateY(90deg) translateZ(20px);
    filter: brightness(0.85);
}

.cube .top {
    width: 40px;
    height: 40px;
    transform: rotateX(90deg) translateZ(20px);
}

.cube .bottom {
    width: 40px;
    height: 40px;
    transform: rotateX(-90deg) translateZ(100px);
}

/* Arms Placement */
.arm.left {
    left: -80px;
    top: -60px;
}

.arm.right {
    left: 40px;
    top: -60px;
}

/* Eyes & Nose (Pixel Art) */
.eyes {
    position: absolute;
    top: 20px;
    left: 10px;
    width: 15px;
    height: 10px;
    background: #fff;
    box-shadow: 45px 0 0 #fff;
    /* Second eye */
}

.eyes::after {
    content: "";
    position: absolute;
    left: 5px;
    width: 5px;
    height: 10px;
    background: #000;
    box-shadow: 45px 0 0 #000;
}


/* --- Animations --- */


/* --- Animations --- */

/* 1. The Walk Swing */
/* --- Animations --- */

@keyframes walk {

    0%,
    100% {
        transform: rotateX(-30deg);
    }

    50% {
        transform: rotateX(30deg);
    }
}

/* CONTRALATERAL GAIT LOGIC:
   Pair A (Left Arm / Right Leg) starts at 0%
   Pair B (Right Arm / Left Leg) starts exactly half-way through the cycle 
*/

/* PAIR A: Left Arm and Right Leg */
.walking .arm.left,
.walking .leg.right {
    animation: walk 0.8s infinite ease-in-out;
}

/* PAIR B: Right Arm and Left Leg */
/* We use a negative delay (-0.4s) so the animation starts 
   "half-way through" immediately upon adding the class */
.walking .arm.right,
.walking .leg.left {
    animation: walk 0.8s infinite ease-in-out;
    animation-delay: -0.4s;
}

/* 2. The Subtle Body Bob (Optional but high-end) */
@keyframes bodyBob {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-4px);
    }
}


/* 4. Apply the Bob to the Torso and Head */
.walking .torso,
.walking .head {
    animation: bodyBob 0.4s infinite ease-in-out;
}

/* 5. Idle transition */
.cube.arm,
.cube.leg {
    transition: transform 0.2s ease-out;
}

@keyframes headBob {

    0%,
    100% {
        transform: rotateY(0deg);
    }

    50% {
        transform: rotateY(5deg);
    }

    /* Subtle look to the side */
}

.walking .head {
    /* Adding to the existing bob */
    animation: bodyBob 0.4s infinite ease-in-out, headBob 0.8s infinite ease-in-out;
}

/* The Ground Shadow */
.shadow-floor {
    position: absolute;
    width: 120px;
    height: 70px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 50%;
    /* Place it flat on the floor - compensate for parent's rotateX(-20deg) */
    transform: translateY(180px) rotateX(110deg);
    filter: blur(8px);
    z-index: -1;
    pointer-events: none;
    left: 0px;
    top: 0px;
    margin-left: -60px;
}

/* Make the shadow "pulse" when the character walks */
.walking~.shadow-floor {
    animation: shadowPulse 0.4s infinite ease-in-out;
}

@keyframes shadowPulse {

    0%,
    100% {
        transform: translateY(180px) rotateX(90deg) scale(1);
        opacity: 0.3;
    }

    50% {
        transform: translateY(180px) rotateX(90deg) scale(1.1);
        opacity: 0.2;
    }
}